# Default Configuration for HUNLHE Solver
# Heads-Up No-Limit Hold'em Monte Carlo CFR Solver

# ===== Game Configuration =====
game:
  starting_stack: 200  # BB units
  small_blind: 1
  big_blind: 2

# ===== Action Abstraction =====
# Research-grade abstraction for 200BB deep-stack HUNLHE
# Based on standard CFR research (Johanson et al., Brown & Sandholm, DeepStack)
action_abstraction:
  # Preflop betting sizes (in BB units)
  # No all-in preflop at 200BB (almost never correct)
  preflop:
    raises: [2.5, 3.5, 5.0]  # Range construction sizes

  # Postflop betting sizes (pot fractions, street-dependent)
  postflop:
    flop:
      bets: [0.33, 0.66, 1.25]  # Range bet, standard, overbet
    turn:
      bets: [0.50, 1.0, 1.5]  # Medium, pot, large overbet
    river:
      bets: [0.50, 1.0, 2.0]  # Thin value, pot, large overbet

  # All-in handling: Only allowed when SPR < 2
  all_in_spr_threshold: 2.0  # Disable all-in above this SPR

  # Max raises per street (prevents infinite action trees)
  max_raises_per_street: 4  # Standard poker cap (dramatically reduces infoset count)

# ===== Card Abstraction =====
card_abstraction:
  # Combo-level abstraction with suit isomorphism
  # This provides correct postflop bucketing with no conflicts
  config: default_plus

  # Alternative: Direct file path
  # abstraction_path: "data/combo_abstraction/combo-20251220-120000/combo_abstraction.pkl"

# ===== SPR Bucketing =====
spr_buckets:
  # Thresholds for [shallow/medium, medium/deep]
  thresholds: [4, 13]

# ===== Solver Configuration =====
solver:
  type: "mccfr"
  sampling_method: "outcome"  # Options: "external" (default, lower variance), "outcome" (faster, higher variance)
  cfr_plus: true  # Use CFR+ (100x faster convergence than vanilla CFR)
  linear_cfr: true  # Use Linear CFR (additional 2-3x speedup)

# ===== Training Configuration =====
training:
  num_iterations: 100000  # 100K iterations for quick test with CFR+
  checkpoint_frequency: 2000  # Save checkpoint every 2000 iterations
  log_frequency: 1000  # Print progress every 1K iterations
  iterations_per_worker: 100  # Multiplier for batch size (batch_size = iterations_per_worker * num_workers)
  verbose: true

  # Profile mode for performance analysis
  profile_mode: true  # Enable detailed profiling (use for debugging/optimization)
  profile_output: "data/profiles"  # Where to save profile results

# ===== Storage Configuration =====
storage:
  checkpoint_enabled: true  # Save periodic checkpoints to disk (recommended)

# ===== System Configuration =====
system:
  config_name: "default"  # Name of the config file
  seed: null  # Random seed (null = random)
  log_level: "INFO"  # Options: DEBUG, INFO, WARNING, ERROR
